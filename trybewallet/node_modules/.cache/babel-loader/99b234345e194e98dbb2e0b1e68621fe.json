{"ast":null,"code":"import store from '../store';\nimport currenciesAPI from '../services/currenciesAPI';\nexport const USER_INFO = 'USER_INFO';\nexport const COIN_INFO = 'COIN_INFO';\nexport const EXPENSES = 'EXPENSES';\nexport const TOTAL = 'TOTAL';\nexport const setUserInfo = payload => ({\n  type: USER_INFO,\n  payload\n});\nexport const setTotal = payload => ({\n  type: TOTAL,\n  payload\n});\nexport const setCoins = payload => ({\n  type: COIN_INFO,\n  payload\n});\nexport const setWallet = payload => ({\n  type: EXPENSES,\n  payload\n});\nexport const setExpenses = payload => async dispatch => {\n  const rates = await currenciesAPI();\n  payload.exchangeRates = rates;\n  let total = store.getState().wallet.total;\n  const conversionValue = payload.exchangeRates[payload.currency];\n  const conversion = (payload.value * conversionValue.ask).toFixed(2);\n  total += parseFloat(conversion);\n  console.log(total);\n  dispatch(setWallet(payload));\n};\nexport const fetchCoins = () => async dispatch => {\n  const response = await currenciesAPI();\n  const array = Object.keys(response).filter(res => res !== 'USDT');\n  dispatch(setCoins(array));\n};","map":{"version":3,"sources":["/home/matheus/Desktop/projects/sd-013-b-project-trybewallet/src/actions/index.js"],"names":["store","currenciesAPI","USER_INFO","COIN_INFO","EXPENSES","TOTAL","setUserInfo","payload","type","setTotal","setCoins","setWallet","setExpenses","dispatch","rates","exchangeRates","total","getState","wallet","conversionValue","currency","conversion","value","ask","toFixed","parseFloat","console","log","fetchCoins","response","array","Object","keys","filter","res"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,UAAlB;AACA,OAAOC,aAAP,MAA0B,2BAA1B;AAEA,OAAO,MAAMC,SAAS,GAAG,WAAlB;AACP,OAAO,MAAMC,SAAS,GAAG,WAAlB;AACP,OAAO,MAAMC,QAAQ,GAAG,UAAjB;AACP,OAAO,MAAMC,KAAK,GAAG,OAAd;AAEP,OAAO,MAAMC,WAAW,GAAIC,OAAD,KAAc;AACvCC,EAAAA,IAAI,EAAEN,SADiC;AACtBK,EAAAA;AADsB,CAAd,CAApB;AAGP,OAAO,MAAME,QAAQ,GAAIF,OAAD,KAAc;AAAEC,EAAAA,IAAI,EAAEH,KAAR;AAAeE,EAAAA;AAAf,CAAd,CAAjB;AACP,OAAO,MAAMG,QAAQ,GAAIH,OAAD,KAAc;AAAEC,EAAAA,IAAI,EAAEL,SAAR;AAAmBI,EAAAA;AAAnB,CAAd,CAAjB;AACP,OAAO,MAAMI,SAAS,GAAIJ,OAAD,KAAc;AAAEC,EAAAA,IAAI,EAAEJ,QAAR;AAAkBG,EAAAA;AAAlB,CAAd,CAAlB;AACP,OAAO,MAAMK,WAAW,GAAIL,OAAD,IAAa,MAAOM,QAAP,IAAoB;AAC1D,QAAMC,KAAK,GAAG,MAAMb,aAAa,EAAjC;AACAM,EAAAA,OAAO,CAACQ,aAAR,GAAwBD,KAAxB;AACA,MAAIE,KAAK,GAAGhB,KAAK,CAACiB,QAAN,GAAiBC,MAAjB,CAAwBF,KAApC;AACA,QAAMG,eAAe,GAAGZ,OAAO,CAACQ,aAAR,CAAsBR,OAAO,CAACa,QAA9B,CAAxB;AACA,QAAMC,UAAU,GAAG,CAACd,OAAO,CAACe,KAAR,GAAgBH,eAAe,CAACI,GAAjC,EAAsCC,OAAtC,CAA8C,CAA9C,CAAnB;AACAR,EAAAA,KAAK,IAAIS,UAAU,CAACJ,UAAD,CAAnB;AAEAK,EAAAA,OAAO,CAACC,GAAR,CAAYX,KAAZ;AACAH,EAAAA,QAAQ,CAACF,SAAS,CAACJ,OAAD,CAAV,CAAR;AACD,CAVM;AAYP,OAAO,MAAMqB,UAAU,GAAG,MAAM,MAAOf,QAAP,IAAoB;AAClD,QAAMgB,QAAQ,GAAG,MAAM5B,aAAa,EAApC;AACA,QAAM6B,KAAK,GAAGC,MAAM,CAACC,IAAP,CAAYH,QAAZ,EAAsBI,MAAtB,CAA8BC,GAAD,IAASA,GAAG,KAAK,MAA9C,CAAd;AACArB,EAAAA,QAAQ,CAACH,QAAQ,CAACoB,KAAD,CAAT,CAAR;AACD,CAJM","sourcesContent":["import store from '../store';\nimport currenciesAPI from '../services/currenciesAPI';\n\nexport const USER_INFO = 'USER_INFO';\nexport const COIN_INFO = 'COIN_INFO';\nexport const EXPENSES = 'EXPENSES';\nexport const TOTAL = 'TOTAL';\n\nexport const setUserInfo = (payload) => ({\n  type: USER_INFO, payload,\n});\nexport const setTotal = (payload) => ({ type: TOTAL, payload });\nexport const setCoins = (payload) => ({ type: COIN_INFO, payload });\nexport const setWallet = (payload) => ({ type: EXPENSES, payload });\nexport const setExpenses = (payload) => async (dispatch) => {\n  const rates = await currenciesAPI();\n  payload.exchangeRates = rates;\n  let total = store.getState().wallet.total;\n  const conversionValue = payload.exchangeRates[payload.currency];\n  const conversion = (payload.value * conversionValue.ask).toFixed(2);\n  total += parseFloat(conversion);\n\n  console.log(total);\n  dispatch(setWallet(payload));\n};\n\nexport const fetchCoins = () => async (dispatch) => {\n  const response = await currenciesAPI();\n  const array = Object.keys(response).filter((res) => res !== 'USDT');\n  dispatch(setCoins(array));\n};\n"]},"metadata":{},"sourceType":"module"}